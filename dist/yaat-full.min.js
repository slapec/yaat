angular.module("yaat",[]).controller("YATableController",["$scope","$http",function(t,e){var r=this;t.$watch("apiUrl",function(t){r.init(t)}),this.init=function(t){e({method:"POST",url:t}).success(function(t){r.parse(t)})},this.parse=function(e){t.data=e;for(var r=[],a=[],l=0;l<e.columns.length;l++){var n=e.columns[l];r.push(n.value);for(var o=0;o<n.rows.length;o++){var i=n.rows[o];void 0===a[o]&&(a[o]=[]),a[o].push(i)}}t.headers=r,t.rows=a}}]).directive("yat",[function(){return{restrict:"E",controller:"YATableController",templateUrl:"yatable/table.html",link:function(t,e,r){void 0!==r.api&&(t.apiUrl=r.api)}}}]),angular.module("yaat").run(["$templateCache",function(t){t.put("yatable/table.html",'<table><thead><tr><td ng-repeat="header in headers">{{ header }}</td></tr></thead><tbody><tr ng-repeat="row in rows"><td ng-repeat="cell in row">{{ cell }}</td></tr></tbody></table><pre>{{ headers }}</pre>')}]);